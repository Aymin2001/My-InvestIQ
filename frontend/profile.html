<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

 <!-- Favicon -->

 <link href="img/favicon.ico" rel="icon" />
  <!-- Google Web Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Jost:wght@500;600;700&family=Open+Sans:wght@400;500&display=swap"
    rel="stylesheet"
  />

  <!-- Icon Font Stylesheet -->
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
    rel="stylesheet"
  />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"
    rel="stylesheet"
  />

  <!-- Libraries Stylesheet -->
  <link href="lib/animate/animate.min.css" rel="stylesheet" />
  <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />

  <!-- Customized Bootstrap Stylesheet -->
  <link href="css/bootstrap.min.css" rel="stylesheet" />
   <link rel="stylesheet" href="css/profile.css">
</head>
<body>
    <div class="container-wrapper ">
     
        <div class="menu-icon" data-bs-toggle="offcanvas" data-bs-target="#offcanvasWithBothOptions" aria-controls="offcanvasWithBothOptions">
          <div class="bar"></div>
          <div class="bar"></div>
          <div class="bar"></div>
        </div>
      
       
        <div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="offcanvasWithBothOptions" aria-labelledby="offcanvasWithBothOptionsLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasWithBothOptionsLabel">
              <a
              href="index.html"
              class="navbar-brand ms-4 ms-lg-0 d-flex justify-content-start align-items-end position-relative"
            >
              <img src="./img/logo.png" alt="logo" width="60" height="50" />
              <h1 id="glitterText" class="display-6 m-0 gradient-text">
                Invest<span class="text-purple">I</span
                ><span class="text-cyan">Q</span>
              </h1>
            </a>
            </h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <div class="column">
              <div class="rows " onclick="location.href='administrator.html';">
                <i class="fas fa-home"></i>
                <p>Dashboard</p>
               
              </div>
              <div class="rows" onclick="location.href='Feedback.html';">
                <i class="fas fa-comments"></i>
                <p>Feedback</p>
              </div>
              <div class="rows" onclick="location.href='setting.html';">
                <i class="fas fa-cog"></i>
                <p>Settings</p>
              </div>
              <div class="rows" onclick="location.href='profile.html';">
                <i class="fas fa-user"></i>
                <p>Profile</p>
              </div>
              <div class="rows" onclick="location.href='Register.html';">
                <i class="fas fa-user"></i>
                <p>Register Admin</p>
              </div>
              
            </div>
            
            
  
          
        </div>
      </div>
      </div>
   



      <div class="container">
       
        <div class="content">
          <div class="profile visible">
            <img src="./img/profileimg.jpg" alt="" width="200px" height="200px"/>
            <h3>Profile</h3>
            <table>
              <tr>
                <td class="title">Name :</td>
                <td>Admin</td>
              </tr>
              
              <tr>
                <td class="title">Date Birth :</td>
                <td>Feb 20, 2001</td>
              </tr>
              <tr>
                <td class="title">City :</td>
                <td>Rawalpindi</td>
              </tr>
              <tr>
                <td class="title">Phone Number :</td>
                <td>999 123 456 0789</td>
              </tr>
              <tr>
                <td class="title">Email :</td>
                <td>admin@gmail.com</td>
              </tr>
            </table>
  
            <hr />
            <div class="action">
              <button class="primary" id="editInfo">Edit Information</button>
              <button class="danger">Delete Account</button>
            </div>
          </div>
      
         
        </div>
      </div>
    <script>
        fetch("https://my-invest-iq-backend.vercel.app/api/service/getServices")
          .then((response) => response.json())
          .then((data) => {
            const tableBody = document.querySelector("#serviceTable tbody");
  
            data.forEach((service) => {
              const row = document.createElement("tr");
              row.innerHTML = `
                        <td scope="row" data-label="NAME">${service.name}</td>
                        <td scope="row" data-label="EMAIL">${service.email}</td>
                        <td scope="row" data-label="PHONE-NO">${service.mobileNo}</td>
                        <td scope="row" data-label="SUBJECT">${service.subject}</td>
                        <td scope="row" data-label="MESSAGE">${service.message}</td>
                        <td>
                            <button class="btn-delete" data-service-id="${service._id}">Delete</button>
                        </td>
                    `;
              tableBody.appendChild(row);
            });
  
            const deleteButtons = document.querySelectorAll(".btn-delete");
            deleteButtons.forEach((button) => {
              button.addEventListener("click", () => {
                const serviceId = button.getAttribute("data-service-id");
                if (serviceId) {
                  deleteService(serviceId);
                } else {
                  console.error("Service ID is missing or invalid");
                }
              });
            });
          })
          .catch((error) =>
            console.error("Error fetching service details:", error)
          );
  
        function deleteService(serviceId) {
          fetch(
            `https://my-invest-iq-backend.vercel.app/api/service/Service/${serviceId}`,
            {
              method: "DELETE",
            }
          )
            .then((response) => {
              if (response.ok) {
                const rowToDelete = document.querySelector(
                  `[data-service-id="${serviceId}"]`
                ).parentNode.parentNode;
                rowToDelete.parentNode.removeChild(rowToDelete);
              } else {
                throw new Error("Failed to delete service");
              }
            })
            .catch((error) => console.error("Error deleting service:", error));
        }
      </script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script>
    let tabs = Array.from(document.querySelectorAll(".tabs li"));
let contents = Array.from(document.querySelectorAll(".content > div"));

tabs.forEach((element) => {
  element.addEventListener("click", (event) => {
    tabs.forEach((ele) => ele.classList.remove("active"));
    event.target.classList.add("active");
    contents.forEach((content) => {
      content.classList.remove("visible");
      //   content.classList.contains(event.target.dataset.content)
      //     ? content.classList.add("visible")
      //     : "";
      console.log(event.target.dataset.content);
      document
        .querySelector(`.${event.target.dataset.content}`)
        .classList.add("visible");
    });
  });
});

  </script>
  <!-- active tab -->
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const currentLocation = window.location.href;
  
      const menuItems = document.querySelectorAll(".offcanvas-body .rows");
  
      menuItems.forEach(function(item) {
        const link = item.getAttribute("onclick").match(/'([^']+)'/)[1];
        if (currentLocation.includes(link)) {
          item.classList.add("active");
        }
      });
    });
  </script>
  
</body>
</html>